<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Paulino Ng" />
  <meta name="dcterms.date" content="2019-09-17" />
  <title>Aula 6 de Lógica de Programação</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style>
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Aula 6 de Lógica de Programação</h1>
<p class="author">Paulino Ng</p>
<p class="date">2019-09-17</p>
</header>
<h2 id="laboratório">Laboratório</h2>
<h2 id="resolução-dos-exercícios-com-python-no-jupyter-notebook">Resolução dos exercícios com Python no Jupyter-notebook</h2>
<p>Vamos primeiro executar o jupyter-notebook e usá-lo para executar algumas instruções de Python.</p>
<p>Para executar instruções Python no notebook, acione o botão <kbd>New</kbd>, no topo a direita na barra de ferramentas. Selecione a opção <code>Python 3</code> do menu. Você foi redirecinado para uma nova página com uma área de texto esperando pelo seu código Python. Esta área é chamada de <em>célula</em> do notebook.</p>
<h3 id="execute-nas-células-do-notebook">Execute nas células do notebook</h3>
<p>Coloque na célula, a expressão abaixo:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">&#39;Alo, Mamae!&#39;</span></span></code></pre></div>
<p>Execute a célula pelo teclado com <kbd>Shift</kbd>+<kbd>Enter</kbd> ou com o <em>mouse</em> clicando no botão <kbd>Run</kbd> na barra de ferramentas.</p>
<p>Ao executar uma célula, o notebook escreve o resultado do cálculo da última instrução se ela resulta num valor e abre uma nova célula para o usuário colocar/calcular novas instruções. A instrução que foi “executada”, na verdade “calculou” o valor textual <code>Alo, Mamae!</code>. Muitas linguagens de programação não consideram uma instrução válida um <em>valor literal</em> solto como o dado. Mas o Python considera um valor como uma instrução válida (inútil, mas válida).</p>
<p>Experimente “calcular” outros valores como (uma linha em cada célula):</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="dv">42</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="dv">14</span> <span class="op">*</span> <span class="dv">3</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">&#39;Alo, &#39;</span> <span class="op">+</span> <span class="st">&#39;Mamae!&#39;</span></span></code></pre></div>
<h3 id="atribuição-de-valores-a-variáveis">Atribuição de valores a variáveis</h3>
<p>Vamos colocar (atribuir) valores em variáveis usando o operador de atribuição <code>=</code>.</p>
<p>Coloque numa célula:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a>x <span class="op">=</span> <span class="dv">42</span></span></code></pre></div>
<p>Execute esta célula. Observe que diferente de quando “executamos” valores (cálculo de expressões), a execução da célula não resultou em nenhum valor. Isto porque em Python, a atribuição não gera um valor. Em muitas linguagens (C, C++, Java), a atribuição resulta no valor atribuído. Isto permite atribuições em cascata como: <code>a = b = c = 42</code>. Este tipo de atribuição não é possível em Python.</p>
<p>Para verificar que a variável <code>x</code> tem o valor <code>42</code>, vamos pedir para imprimir o valor da variável <code>x</code> com a função <code>print()</code>. Na célula nova, coloque:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="bu">print</span>(x)</span></code></pre></div>
<p>Execute e veja que o valor <code>42</code> é impresso. Isto porque o <code>print()</code> imprime o valor de seus argumentos.</p>
<p>Vamos trocar o valor de <code>x</code> por <code>'Alo, Mamae!'</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>x <span class="op">=</span> <span class="st">&#39;Alo, Mamae!&#39;</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="bu">print</span>(x)</span></code></pre></div>
<p>Observe que o valor <code>42</code> da variável <code>x</code> foi substituído pelo texto <code>Alo, Mamae!</code>. Diferente de linguagens fortemente tipadas como o C, C++, Java, o Python não exige (na verdade, não permite) a declaração de variáveis com tipos e permite que o tipo dos valores guardados numa variável mude.</p>
<p>O Python também permite que <em>múltiplas atribuições</em> sejam realizadas numa mesma instrução:</p>
<pre><code>x,y,z = 7,11,13
print(&#39;x =&#39;, x)
print(&#39;y =&#39;, y)
print(&#39;z =&#39;, z)</code></pre>
<h3 id="diferença-entre-atribuições-simultâneas-e-sequenciais">Diferença entre atribuições simultâneas e sequenciais</h3>
<p>O Python é uma das raras linguagens que permitem atribuições simultâneas, estas atribuições simultâneas são diferentes das atribuições sequenciais. Por exemplo, sejam as atribuições simultâneas abaixo:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a>x,y <span class="op">=</span> <span class="dv">1</span>,<span class="dv">2</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>x,y <span class="op">=</span> y,x<span class="op">+</span>y</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="bu">print</span>(<span class="st">&#39;x =&#39;</span>, x, <span class="st">&#39;</span><span class="ch">\t</span><span class="st">y =&#39;</span>, y)</span></code></pre></div>
<p>Este código imprime: <code>x = 2   y = 3</code></p>
<p>Se a segunda atribuição simultânea for realizada sequencialmente:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>x,y <span class="op">=</span> <span class="dv">1</span>,<span class="dv">2</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>x <span class="op">=</span> y</span>
<span id="cb10-3"><a href="#cb10-3"></a>y <span class="op">=</span> x<span class="op">+</span>y</span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="bu">print</span>(<span class="st">&#39;x =&#39;</span>, x, <span class="st">&#39;</span><span class="ch">\t</span><span class="st">y =&#39;</span>, y)</span></code></pre></div>
<p>Este código imprime: <code>x = 2   y = 4</code></p>
<p>Se invertermos a ordem das atribuições de <code>x</code> e <code>y</code>, temos:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a>x,y <span class="op">=</span> <span class="dv">1</span>,<span class="dv">2</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>y <span class="op">=</span> x<span class="op">+</span>y</span>
<span id="cb11-3"><a href="#cb11-3"></a>x <span class="op">=</span> y</span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="bu">print</span>(<span class="st">&#39;x =&#39;</span>, x, <span class="st">&#39;</span><span class="ch">\t</span><span class="st">y =&#39;</span>, y)</span></code></pre></div>
<p>Este código imprime: <code>x = 3   y = 3</code></p>
<p>A diferença está em que quando a atribuição simultânea foi feita, o interpretador Python calculou os valores que estavam à direita da atribuição antes de realizar a atribuição. Isto é, calculou <code>y,x+y</code> e encontrou <code>2,3</code>. Aí, atribuiu <code>2</code> ao <code>x</code> e <code>3</code> ao <code>y</code>. Nos outros dois casos, os valores de <code>x</code> e <code>y</code> foram modificados antes das atribuição desejada. Este fenômeno é conhecido como <em>efeito colateral</em> da concorrência das atribuições. Ele é particularmente complexo quando existem acessos simultâneos a bancos de dados.</p>
<h3 id="cálculo-do-fatorial-de-n">Cálculo do fatorial de n</h3>
<p>Vamos resolver com Python o cálculo do fatorial de um número. Lembrando que:</p>
<p><br /><span class="math display"><em>n</em> ! = 1 . 2 . … . <em>n</em></span><br /></p>
<p>Numa primeira tentativa para o cálculo do fatorial, vamos fixar o valor de <code>n</code> para um valor cujo fatorial sabemos calcular. Por exemplo, sabemos que <span class="math inline">5 ! = 120</span>.</p>
<p>O código abaixo usa uma técnica de acumulador para as multiplicações, o <code>1</code> é usado para inicializar o acumulador pois qualquer coisa multiplicada por 1 é a própria coisa. Isto é, o 1 é neutro na multiplicação. Vamos usar uma estrutura de repetição para fazer as sucessivas multiplicações. Multiplicamos sucessivamente o acumulador pela variável de controle que vai variar de 2 até n (5, neste protótipo/exemplo).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a>n <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>acc <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>i <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="cf">while</span> i <span class="op">&lt;=</span> n:</span>
<span id="cb12-5"><a href="#cb12-5"></a>    acc <span class="op">*=</span> i</span>
<span id="cb12-6"><a href="#cb12-6"></a>    i <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="bu">print</span>(<span class="st">&#39;fatorial de &#39;</span>, n, <span class="st">&#39;eh&#39;</span>, acc)</span></code></pre></div>
<p>A instrução <code>acc *= i</code> é uma atribuição com operação, ela é o mesmo que <code>acc = acc * i</code>. Isto é, coloque no acumulador <code>acc</code>, o valor da multiplicação do conteúdo de <code>acc</code> com o conteúdo de <code>i</code>. Isto é, na primeira iteração, <code>1 * 2</code>, pois <code>acc</code> e <code>i</code> valem, respectivamente, <code>1</code> e <code>2</code>. Agora o <code>acc</code> tem o valor <code>2</code>. Na instrução seguinte, a variável de controle <code>i</code> recebe <code>2 + 1</code>. Como <code>3 &lt;= 5</code> é verdadeiro, temos uma segunda iteração, no fim da qual, <code>acc</code> e <code>i</code> adquirem os valores <code>6</code> e <code>4</code>. Após a terceira iteração temos: <code>24</code> e <code>5</code>. Após a quarta iteração, <code>120</code> e <code>6</code>. Como <code>6 &lt;= 5</code> é falso, o <code>while</code> termina. Aí, o <code>print()</code> é executado.</p>
<h4 id="função-que-calcula-o-fatorial">Função que calcula o fatorial</h4>
<p>Agora que sabemos como calcular o fatorial de n, para podermos reutilizar o código para uso futuro, vamos transformar o código numa função e usá-lo:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">def</span> fatorial(n):</span>
<span id="cb13-2"><a href="#cb13-2"></a>  acc <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>  i <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="cf">while</span> i <span class="op">&lt;=</span> n:</span>
<span id="cb13-5"><a href="#cb13-5"></a>    acc <span class="op">*=</span> i</span>
<span id="cb13-6"><a href="#cb13-6"></a>    i <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>  <span class="cf">return</span> acc</span>
<span id="cb13-8"><a href="#cb13-8"></a></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="bu">print</span>(<span class="st">&#39;O fatorial de 20 eh&#39;</span>, fatorial(<span class="dv">20</span>))</span></code></pre></div>
<h3 id="cálculo-do-n-ésimo-elemento-da-sequência-de-fibonacci">Cálculo do n-ésimo elemento da sequência de Fibonacci</h3>
<p>A sequência de Fibonacci é dada por: <code>0, 1, 1, 2, 3, 5, 8, 13, ...</code> Os números da sequência são calculados de forma que um elemento da sequência é sempre a soma dos 2 anteriores.</p>
<p>Estes números aparecem em muitos fenômenos naturais e em muitas ocasiões na computação. O primeiro número da sequência é <code>0</code>, o segundo é <code>1</code> e a partir daí, sempre calculamos o próximo como a soma dos 2 anteriores. O algoritmo para calcular o n-ésimo elemento da sequência consiste em calcular sequencialmente os anteriores até termos os 2 anteriores ao n-ésimo e, aí, somamos estes 2 e obtemos o n-ésimo. Assim, informalmente, o algoritmo pode ser descrito por:</p>
<ol type="1">
<li>Se o <code>n</code> é <code>1</code> ou <code>2</code>, o n-ésimo elemento da sequência é, <code>0</code> ou <code>1</code>, respectivamente.</li>
<li>Usaremos uma variável para memorizar o valor da sequência duas posições atrás, vamos chamá-la de <code>fMenos2</code> e outra variável para uma posição atrás, <code>fMenos1</code>. Inicializamos <code>fMenos2</code> com 0 e <code>fMenos1</code> com 1.</li>
<li>Usaremos uma variável para indicar que já calculamos o i-ésimo elemento da sequência, o nome desta variável é <code>i</code>. Ela é inicializada com 2.</li>
<li>Enquanto <code>i &lt; n</code>, calculamos a soma de <code>fMenos2</code> com <code>fMenos1</code> e colocamos em <code>soma</code>, este é o novo valor da sequência, quer dizer que podemos aumentar o <code>i</code> de 1 e agora <code>fMenos2</code> recebe o valor de <code>fMenos1</code> e <code>fMenos1</code> recebe o valor de soma. Quando este <code>enquanto</code> acabar de repetir estas atualizações, teremos o <code>i</code> igual ao <code>n</code> e o valor em <code>soma</code> ou <code>fMenos1</code> é o valor que procuramos.</li>
</ol>
<p>Como fizemos com o fatorial, vamos primeiro escrever o programa para um caso especial, n = 8, que sabemos ser 13.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a>n <span class="op">=</span> <span class="dv">8</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="cf">if</span> n <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="bu">print</span>(<span class="st">&quot;O primeiro elemento da sequencia eh 0&quot;</span>)</span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="cf">elif</span> n <span class="op">==</span> <span class="dv">2</span>:</span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="bu">print</span>(<span class="st">&quot;O segundo elemento da sequencia eh 1&quot;</span>)</span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="cf">else</span>:</span>
<span id="cb14-7"><a href="#cb14-7"></a>  fMenos2 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>  fMenos1 <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb14-9"><a href="#cb14-9"></a>  i <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>  <span class="cf">while</span> i <span class="op">&lt;</span> n:</span>
<span id="cb14-11"><a href="#cb14-11"></a>    soma <span class="op">=</span> fMenos1 <span class="op">+</span> fMenos2</span>
<span id="cb14-12"><a href="#cb14-12"></a>    i <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb14-13"><a href="#cb14-13"></a>    fMenos2 <span class="op">=</span> fMenos1</span>
<span id="cb14-14"><a href="#cb14-14"></a>    fMenos1 <span class="op">=</span> soma</span>
<span id="cb14-15"><a href="#cb14-15"></a>  <span class="bu">print</span>(<span class="st">&#39;O &#39;</span> <span class="op">+</span> <span class="bu">str</span>(i) <span class="op">+</span> <span class="st">&#39;-esimo elemento da sequência de Fibonacci eh&#39;</span>, soma)</span></code></pre></div>
<p>Observe que a condição de continuidade é <code>i &lt; n</code> e não <code>i &lt;= n</code>. Por que?</p>
<blockquote>
<p>Quando a malha de repetição vai terminar? Quando o <code>i</code> não for mais menor do que <code>n</code>. A primeira vez em que isto ocorre é quando <code>i == n</code>. Logo a condição de continuidade é <code>i &lt; n</code>, se inclui-se a igualdade, a malha de repetição continuaria até <code>i == n + 1</code>.</p>
</blockquote>
<h4 id="exercício">Exercício:</h4>
<p>Converta o programa para uma função que calcula o n-ésimo elemento da sequência de Fibonacci e chame a função para calcular o centésimo elemento.</p>
<p>Solução: <a href="fibo100.py">Programa que imprime o valor do centésimo elemento da sequência de Fibonacci</a></p>
<h3 id="cálculo-da-string-reversa">Cálculo da string reversa</h3>
<p>Problema: dado um texto, calcular o texto invertido, o primeiro carácter é o último, o segundo o penúltimo, …</p>
<p>No Python, os caracteres de uma <em>string</em> podem ser acessados por índice. O primeiro carácter tem índice <code>0</code>. Além disso, um carácter em Python é uma <em>string</em> com um único carácter. Um algoritmo simples para reverter uma <em>string</em> é:</p>
<ol type="1">
<li>Usar uma variável para acumular os caracteres na ordem contrária à que esta sendo lido o texto. A variável começa com a <em>string</em> vazia.</li>
<li>Para cada carácter no texto, concatená-la como primeiro carácter ao acumulador. Isto é, o último carácter lido é o primeiro carácter no acumulador.</li>
</ol>
<p>Em Python, este algoritmo pode ser escrito como:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a>texto <span class="op">=</span> <span class="st">&#39;Texto a ser invertido&#39;</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>otxet <span class="op">=</span> <span class="st">&quot;&quot;</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="cf">for</span> ch <span class="kw">in</span> texto:</span>
<span id="cb15-4"><a href="#cb15-4"></a>  otxet <span class="op">=</span> ch <span class="op">+</span> otxet</span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="bu">print</span>(<span class="st">&#39;&quot;&#39;</span> <span class="op">+</span> texto <span class="op">+</span> <span class="st">&#39;&quot; invertido fica:&#39;</span>, otxet)</span></code></pre></div>
<h4 id="exercício-1">Exercício:</h4>
<p>Converta o programa em uma função. Que recebe o texto como argumento e retorna o texto invertido.</p>
<p>Solução: <a href="reverte.py">Programa com a função pedida</a></p>
</body>
</html>
