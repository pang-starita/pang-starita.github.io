<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Paulino Ng" />
  <meta name="dcterms.date" content="2019-09-30" />
  <title>Resumo de Programação C</title>
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style>
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Resumo de Programação C</h1>
<p class="author">Paulino Ng</p>
<p class="date">2019-09-30</p>
</header>
<h2 id="programa-alo">Programa Alo</h2>
<p>Seguindo os passos de [1], este resumo começa com o programa alo.c, cujo código é:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb1-1"><a href="#cb1-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="dt">int</span> main() {</span>
<span id="cb1-4"><a href="#cb1-4"></a>  printf(<span class="st">&quot;Alo!</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb1-6"><a href="#cb1-6"></a>}</span></code></pre></div>
<p>A linha <code>#include &lt;stdio.h&gt;</code> pede para o pré-compilador do C incluir o arquivo <code>stdio.h</code> no lugar da linha. Isto permite usar a chamada da função <code>printf()</code>.</p>
<p>Todo programa C deve ter uma implementação da função <code>main()</code>. Esta é a função que o sistema operacional <em>chama</em> ao carregar o programa para a execução.</p>
<p>A função <code>main()</code> retorna um valor inteiro para indicar se o programa executou corretamente ou não. Se a <code>main()</code> retorna <code>0</code> (zero), o programa executou sem erros. Se executar com algum tipo de erro, o valor do retorno é diferente de <code>0</code>.</p>
<p>Além da instrução de retorno, a única instrução dentro do corpo da <code>main()</code> é a chamada à função <code>printf()</code>. A função <code>printf()</code> imprime uma mensagem (<em>texto</em>) na tela do usuário (na <em>console</em> do usuário). A mensagem é o argumento da chamada da função, <code>"Alo!\n"</code>. Este texto é chamado de <em>string</em> e consiste na sequência de caracteres <code>'A'</code>, <code>'l'</code>, <code>'o'</code>, <code>'!'</code>, <code>'\n'</code> e <code>'\0'</code>. O carácter <code>'\n'</code> é para terminar a linha do <code>"Alo!"</code> e começar um nova.</p>
<p>As instruções em C terminam com um <code>;</code> obrigatório.</p>
<h2 id="pré-processador">Pré-processador</h2>
<h3 id="include"><code>#include</code></h3>
<p>Pelo fato do C ser uma linguagem de programação bastante simples, não existe muita coisa pronta na linguagem. Por outro lado, o C possui uma grande quantidade de bibliotecas de funções que podem ser reutilizadas nos programas poupando muito esforço de programação. Estas bibliotecas estão em arquivos <code>.a</code> ou <code>.so</code> no Unix, ou <code>.lib</code> ou <code>.dll</code> no MS Windows. O editor de ligações estáticas ou dinâmicas vai incluir o código destas funções ao código executável, mas, antes disto, o compilador precisa conhecer o protótipo das funções antes das funções serem chamadas nos programas dos programadores-usuários das bibliotecas.</p>
<p>Esta é uma das funções dos arquivos cabeçalho, fornecer os protótipos das funções das bibliotecas. Além disso, é nos arquivos cabeçalhos onde estruturas de dados, constantes e variáveis globais são declaradas em programas C.</p>
<p>Os arquivos cabeçalho de C, geralmente, usam a extensão <code>.h</code>. Os arquivos cabeçalho das bibliotecas costumam está em diretórios do sistema de compilação. Mas, o programador pode criar seus próprios arquivos cabeçalho e colocá-los em qualquer diretório.</p>
<p>Como as declarações dos arquivos cabeçalho são necessárias para poder usar as bibliotecas, o programador teria de copiá-los em cada arquivo de código que utilizasse as funções das bibliotecas. Para evitar estas cópias, os arquivos de códigos C (tanto fonte como cabeçalho), pedem para um pré-compilador(ou pré-processador) para incluir os arquivos cabeçalho. A instrução <code>#include &lt;stdio.h&gt;</code> é uma instrução para o pré-compilador de C substituir esta linha pelo conteúdo do arquivo <code>stdio.h</code>. Os <code>&lt;&gt;</code> servem para indicar que o arquivo deve ser procurado nos diretórios de sistema. No lugar de <code>&lt;&gt;</code> (<em>bicudos</em>), podemos usar <code>""</code>. Isto é, <code>#include "stdio.h"</code>, neste caso, o pré-compilador procura o arquivo <code>stdio.h</code> no diretório do código fonte antes dos diretórios de sistema.</p>
<h3 id="define"><code>#define</code></h3>
<p>Além do <code>#include</code>, o pré-compilador C permite criar <em>macros</em>. Na sua forma mais simples <em>macros</em> servem para definir constantes. Por exemplo, para definir a constante π em C, pode-se fazer:</p>
<pre><code>#define PI 3.141592653589793</code></pre>
<p>Se dentro do código C aparecer o nome da <em>macro</em> (<code>PI</code>), o nome vai ser substituído pelo valor associado. Por exemplo:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb3-1"><a href="#cb3-1"></a>    printf(<span class="st">&quot;%f&quot;</span>, sin(PI/<span class="dv">4</span>));</span></code></pre></div>
<p>O pré-compilador vai substituir <code>PI</code> pelo valor e o código que será compilado é:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb4-1"><a href="#cb4-1"></a>    printf(<span class="st">&quot;%f&quot;</span>, sin(<span class="fl">3.141592653589793</span>/<span class="dv">4</span>));</span></code></pre></div>
<p>As macros podem ser parametrizadas, isto é, podemos colocar parâmetros para as macros. Uma maneira inocente de definir uma macro para calcular o menor valor (o valor mínimo) entre 2 números é:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb5-1"><a href="#cb5-1"></a><span class="pp">#define MIN(x,y) (x &lt; y) ? x : y</span></span></code></pre></div>
<p>Macros parametrizadas são muito avançadas para este resumo.</p>
<h3 id="ifdef-e-ifndef"><code>#ifdef</code> e <code>#ifndef</code></h3>
<p>Os arquivos cabeçalho incluem outros arquivos cabeçalho e pode ocorrer de numa sequência de inclusões, um mesmo arquivo ser incluído mais de uma vez. Para evitar o erro de múltiplas declarações (o que não é permitido em C), é necessário usar um esquema de exclusão de múltiplas declarações. Isto é obtido pelo uso do condicional do pré-compilador. A estrutura que todos os arquivos de cabeçalho usam é:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb6-1"><a href="#cb6-1"></a><span class="pp">#ifndef _nome_do_arquivo.H_</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="pp">#define _nome_do_arquivo.H_</span></span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">// declarações e outros conteúdos do arquivo cabeçalho</span></span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="pp">#endif</span></span></code></pre></div>
<p>Estas instruções para o pré-compilador permitem que um arquivo cabeçalho seja incluído múltiplas vezes sem provocar dupla declaração de variáveis, protótipos, etc.</p>
<h2 id="comentários-em-c">Comentários em C</h2>
<p>O C tem 2 tipos de comentários: <code>//</code> e <code>/* */</code>. <code>//</code> inicia um comentário que vai até o final da linha. <code>/*</code> inicia um comentário que termina quando <code>*/</code> é encontrado. Isto permite comentários em múltiplas linhas e comentários no meio de uma linha. Por exemplo:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb7-1"><a href="#cb7-1"></a>  x = <span class="dv">0</span>; <span class="co">// x é inicializado com 0 (comentário idiota)</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="co">/* comentário de várias linhas</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">   * são usados para explicar uso de funções, estruturas de dados e algoritmos.</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">   */</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  y = <span class="dv">1</span> + <span class="co">/* este é um comentário mal posto */</span> <span class="dv">41</span>;</span></code></pre></div>
<h2 id="declaração-de-variáveis-em-c">Declaração de variáveis em C</h2>
<p>O C atualmente é uma linguagem fortemente tipada com tipagem estática. Isto é, todas as variáveis em C precisam ser declaradas antes de serem utilizadas e o tipo das variáveis não pode mudar durante a execução do programa. Mas, diferente de algumas linguagens que obrigam as declarações de variáveis serem feitas no início do arquivo de código fonte (no caso de variáveis globais), ou no início do corpo das funções (no caso de variáveeis locais), o C permite que as variáveis sejam declaradas em qualquer posição antes do uso delas (as globais sempre precisam ser declaradas fora das funções). Alguns programadores gostam de declarar as variáveis todas no início de um escopo, pois todas as declarações ficam visíveis no mesmo lugar. Outros preferem declará-las próximas do seu local de uso. As empresas de SW costumam estabelecer regras para estas situações. Neste resumo, vamos declarar as variáveis globais no início do arquivo de código fonte ou cabeçalho. As locais serão declaradas próximas ao local de uso delas.</p>
<p>As variáveis são sempre declaradas com uma das seguintes sintaxes:</p>
<pre><code>&lt;tipo&gt; nome_da_var;
&lt;tipo&gt; &lt;lista de nomes de variáveis&gt;;
&lt;tipo&gt; nome_da_var = &lt;expressão com valor calculável durante a compilação&gt;;</code></pre>
<p>A seguir, tem-se algumas declarações válidas em C:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb9-1"><a href="#cb9-1"></a><span class="dt">int</span> x, y, z;  <span class="co">// x, y e z são variáveis inteiras (32 bits com o gcc atual)</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>log <span class="dt">int</span> lx, ly, lz; <span class="co">// lx, ly e lz são variáveis inteiras com mais bits do que int</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="dt">long</span> lx1;    <span class="co">// lx1 é long int, o int é opcional</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="dt">short</span> sx, sy; <span class="co">// sx e sy são inteiros com um número menor de bits do que int</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="dt">float</span> f, g; <span class="co">// f e g são variáveis de ponto flutuante com 32 bits</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="dt">double</span> ff, gg;  <span class="co">// ff e gg são variáveis de ponto flutuante com 64 bits</span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="dt">char</span> ch;  <span class="co">// ch é uma variável do tipo carácter</span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="dt">char</span> linha_nova = <span class="ch">&#39;\n&#39;</span>; <span class="co">// linha_nova é uma variável do tipo carácter inicializada</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>                        <span class="co">// com \n</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="dt">char</span> nome[<span class="dv">80</span>];          <span class="co">// nome é uma variável capaz de guardar 80 caracteres</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">// A seguir declara-se alguns ponteiros, alguns com inicialização</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="dt">char</span> *pChNome = <span class="st">&quot;Joao&quot;</span>; <span class="co">// pChNome é um ponteiro para o primeiro caracter da string</span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="dt">int</span> *pX = &amp;x; <span class="co">// pX é um ponteiro de inteiro para a posição da variável x</span></span></code></pre></div>
<h2 id="função-de-saída-printf">Função de saída: <code>printf()</code></h2>
<p>O <code>printf()</code> da biblioteca <code>stdio</code> do C permite que sejam enviados textos, <em>strings</em>, para a saída padrão (<em>standard</em>), que, considera-se, é a interface de linha que mandou rodar o programa. Cuidado ao rodar um programa executável do C pela interface gráfica no MS Windows, ao clicar duas vezes no executável, o programa provoca a execução de uma janela de <em>Prompt do DOS</em>, roda o programa nela, imprime as saídas nela e, se não estiver programada nenhuma interação com o usuário, ao terminar a execução, a janela <em>DOS</em> é fechada sem que se tenha tempo para ver as saídas.</p>
<p>Para usar o <code>printf()</code> é necessário que a instrução <code>#include &lt;stdio.h&gt;</code> tenha sido dada no início do arquivo fonte. O protótipo da <code>printf()</code> é:</p>
<pre><code>int printf(const char *format, ...);</code></pre>
<p>Os <code>...</code> significam valores que podem ser calculados por expressões e que serão <strong>convertidos</strong> em texto, <em>strings</em>, pelos conversores expressos na <em>string</em> <code>format</code>. <code>format</code> é uma <em>string</em> que tem o texto de saída e embutido neste texto, existem <em>posições</em> onde os valores convertidos para texto devem ser inseridos. Alguns dos conversores possíveis são %d, %f, %e, %c, %s e %g.</p>
<p>Eis alguns exemplos:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb11-1"><a href="#cb11-1"></a><span class="dt">int</span> x = <span class="dv">42</span>, y = <span class="dv">51</span>;</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">// Saída da linha abaixo é: x = 42, y = 51, x + y = 93</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>printf(<span class="st">&quot;x = %d, y = %d, x + y = %d</span><span class="sc">\n</span><span class="st">&quot;</span>, x, y, x + y);      </span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="dt">float</span> pi = <span class="fl">3.14159</span><span class="bu">F</span>;</span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co">// Saída da linha abaixo é: Decimal = 3.141590, notacao cientifica = 3.141590e+00</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>printf(<span class="st">&quot;Decimal = %f, notacao cientifica = %e</span><span class="sc">\n</span><span class="st">&quot;</span>, pi, pi);</span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="dt">char</span> ch = <span class="ch">&#39;A&#39;</span>;</span>
<span id="cb11-8"><a href="#cb11-8"></a>printf(<span class="st">&quot;Caracter em ch = %c</span><span class="sc">\n</span><span class="st">&quot;</span>, ch);   <span class="co">// Saída: Caracter em ch = A</span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="dt">char</span> *pNome = <span class="st">&quot;Toto da Silva&quot;</span>;</span>
<span id="cb11-10"><a href="#cb11-10"></a>printf(<span class="st">&quot;Nome: %s</span><span class="sc">\n</span><span class="st">&quot;</span>, pNome);   <span class="co">// Saída: Nome: Toto da Silva</span></span></code></pre></div>
<p>Os principais conversores na <em>string</em> <code>format</code> do <code>printf()</code> são:</p>
<table>
<thead>
<tr class="header">
<th>Conversor</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>d ou i</td>
<td>Converte um valor inteiro com sinal para sua representação decimal</td>
</tr>
<tr class="even">
<td>u</td>
<td>Converte um inteiro sem sinal para sua representação decimal</td>
</tr>
<tr class="odd">
<td>o</td>
<td>Converte um inteiro sem sinal para sua representação octal</td>
</tr>
<tr class="even">
<td>x ou X</td>
<td>Converte um inteiro sem sinal para sua representação hexadecimal</td>
</tr>
<tr class="odd">
<td>e ou E</td>
<td>Converte um valor de ponto flutuante (double) numa notação científica</td>
</tr>
<tr class="even">
<td>f ou F</td>
<td>Converte um valor de ponto flutuante (double) numa representação decimal</td>
</tr>
<tr class="odd">
<td>c</td>
<td>Converte um carácter sem sinal num carácter de saída</td>
</tr>
<tr class="even">
<td>s</td>
<td>Converte uma <em>string</em> de C numa <em>string</em> de saída</td>
</tr>
</tbody>
</table>
<p>Os conversores podem ter modificadores antes deles para especificar o número de “casas” de saída são desejados na conversão, ou para sinalizar representações de números longos e outras. Um dos modificadores mais usados é para os números de ponto flutuante serem representados com uma quantidade fixa de casas decimais:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb12-1"><a href="#cb12-1"></a>printf(<span class="st">&quot;%.2f</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="fl">3.1416</span>);      <span class="co">// Saida: 3.14</span></span></code></pre></div>
<p>O valor de <strong>retorno</strong> do <code>printf()</code> é o número de caracteres enviados à saída, sem conta o carácter nulo usado para terminar as <em>strings</em> em C. Se acontecer algum erro na saída, o valor retornado é negativo.</p>
<p>O número de argumentos do <code>printf()</code> é variável e com tipos variáveis, deve-se ter argumentos suficientes para os conversores da <em>string</em> <code>format</code> e com tipos compatíveis para a conversão. Argumentos insuficientes ou excessivos podem provocar saídas bizarras.</p>
<h2 id="função-de-entrada-scanf">Função de entrada: <code>scanf()</code></h2>
<p>A função <code>scanf()</code> é o complemento da <code>printf()</code>, ela realiza a leitura de textos vindos, normalmente, do teclado do usuário e converte para representações dos tipos adequados para as variáveis que vão guardar os valores.</p>
<p>O protótipo da <code>scanf()</code> é dado por:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb13-1"><a href="#cb13-1"></a><span class="dt">int</span> scanf(<span class="dt">const</span> <span class="dt">char</span> *format, ...);</span></code></pre></div>
<p>Como com o <code>printf()</code>, para usar a <code>scanf()</code> é necessário ter feito <code>#include &lt;stdio.h&gt;</code>.</p>
<p>Além disso, para que os valores convertidos sejam colocados nas variáveis, é necessário fornecer o endereço das variáveis na lista de argumentos após a <em>string</em> <code>format</code>. Isto porque, a <code>scanf()</code> precisa modificar o conteúdo das variáveis-argumento e não do valor delas. O C não tem passagem de parâmetros por referência como outras linguagens, apenas por valor. De certa forma, a passagem de um ponteiro com o valor do endereço de uma variável é uma forma de passagem por referência.</p>
<p>Exemplos de uso do <code>scanf()</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb14-1"><a href="#cb14-1"></a><span class="dt">int</span> i;</span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="dt">long</span> li;</span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="dt">float</span> f;</span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="dt">double</span> n;</span>
<span id="cb14-5"><a href="#cb14-5"></a>printf(<span class="st">&quot;Digite um inteiro = &quot;</span>);</span>
<span id="cb14-6"><a href="#cb14-6"></a>scanf(<span class="st">&quot;%d&quot;</span>, &amp;i);</span>
<span id="cb14-7"><a href="#cb14-7"></a>printf(<span class="st">&quot;Digite um inteiro longo = &quot;</span>);</span>
<span id="cb14-8"><a href="#cb14-8"></a>scanf(<span class="st">&quot;%ld&quot;</span>, &amp;li);</span>
<span id="cb14-9"><a href="#cb14-9"></a>printf(<span class="st">&quot;Digite um numero real = &quot;</span>);</span>
<span id="cb14-10"><a href="#cb14-10"></a>scanf(<span class="st">&quot;%f&quot;</span>, &amp;f);</span>
<span id="cb14-11"><a href="#cb14-11"></a>printf(<span class="st">&quot;Digite um numero real com mais casas decimais = &quot;</span>);</span>
<span id="cb14-12"><a href="#cb14-12"></a>scanf(<span class="st">&quot;%f&quot;</span>, &amp;n);</span>
<span id="cb14-13"><a href="#cb14-13"></a><span class="co">// como exercício, escreva os printfs para verificar se os valores lidos estão corretos</span></span></code></pre></div>
<p>Observe que os conversores são praticamente os mesmos usados pelo <code>printf()</code>. O <code>%f</code> serve tanto para <code>float</code> como para <code>double</code>, como no <code>printf()</code>.</p>
<p>A leitura de <em>string</em> com o <code>%s</code> só lê até o separador (geralmente o espaço), para ler uma string até o final da linha, usa-se a função <code>fgets()</code>, cujo protótipo é:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb15-1"><a href="#cb15-1"></a><span class="dt">char</span> *fgets(<span class="dt">char</span> *s, <span class="dt">int</span> size, <span class="dt">FILE</span> *stream);</span></code></pre></div>
<p>O parâmetro <code>s</code> é o <em>buffer</em> de caracteres onde a linha de texto deve ser lida, geralmente declarada com algo como: <code>char s[80]</code>. O parâmetro <code>size</code> indica quantos caracteres devem ser lidos no máximo (1 a menos do que o valor de <code>size</code> para poder colocar o carácter nulo no fim). <code>stream</code> é o dispositivo de entrada, no caso do teclado do usuário, é o <code>stdin</code>, mas poderia ser um arquivo, ou outro tipo de entrada.</p>
<h3 id="exemplo-de-programa-para-leitura-e-impressão">Exemplo de programa para leitura e impressão</h3>
<p>O programa a seguir lê o nome de um aluno, suas notas P1 e P2 e calcula a média.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb16-1"><a href="#cb16-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="dt">int</span> main() {</span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="dt">char</span> nome[<span class="dv">80</span>];</span>
<span id="cb16-4"><a href="#cb16-4"></a>  <span class="dt">float</span> p1, p2;</span>
<span id="cb16-5"><a href="#cb16-5"></a>  printf(<span class="st">&quot;Nome do aluno: &quot;</span>);</span>
<span id="cb16-6"><a href="#cb16-6"></a>  fgets(nome, <span class="dv">80</span>, stdin);</span>
<span id="cb16-7"><a href="#cb16-7"></a>  printf(<span class="st">&quot;Nota P1 = &quot;</span>);</span>
<span id="cb16-8"><a href="#cb16-8"></a>  scanf(<span class="st">&quot;%f&quot;</span>, &amp;p1);</span>
<span id="cb16-9"><a href="#cb16-9"></a>  printf(<span class="st">&quot;Nota P2 = &quot;</span>);</span>
<span id="cb16-10"><a href="#cb16-10"></a>  scanf(<span class="st">&quot;%f&quot;</span>, &amp;p2);</span>
<span id="cb16-11"><a href="#cb16-11"></a>  printf(<span class="st">&quot;O aluno: %s, com P1 = %5.2f e P2 = %5.2f ficou com média %4.1f</span><span class="sc">\n</span><span class="st">&quot;</span>,</span>
<span id="cb16-12"><a href="#cb16-12"></a>         nome, p1, p2, (p1 + p2)/<span class="dv">2</span>);</span>
<span id="cb16-13"><a href="#cb16-13"></a>}</span></code></pre></div>
<h2 id="operações-sobre-números-em-c">Operações sobre números em C</h2>
<p>O C permite as operações tradicionais com números:</p>
<table>
<thead>
<tr class="header">
<th>Operação</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>+</code></td>
<td>Adição tanto de inteiros como de ponto flutuante</td>
</tr>
<tr class="even">
<td><code>-</code></td>
<td>Subtração</td>
</tr>
<tr class="odd">
<td><code>*</code></td>
<td>Multiplicação</td>
</tr>
<tr class="even">
<td><code>/</code></td>
<td>Divisão, divisão inteira se ambos os operandos forem inteiros</td>
</tr>
</tbody>
</table>
<p>Além disso, existem operações especiais para inteiros.</p>
<h3 id="operações-especiais-sobre-inteiros">Operações especiais sobre inteiros</h3>
<p>O operador <code>%</code> calcula o resto de uma divisão inteira. Ele é chamado de operador módulo, pois esta operação na matemática de números inteiros é chamada de módulo. <code>10 % 2</code> lê-se 10 módulo 2 e resulta em <code>0</code>. Não confunda a operação módulo com o cálculo do valor absoluto. Para calcular o valor absoluto de um número pode-se usar a biblioteca matemática (<code>#include &lt;math.h&gt;</code>) com a função <code>fabs()</code> que calcula o valor absoluto de um <code>double</code> e retorna um <code>double</code>. Se precisar calcular o valor absoluto de um inteiro e não quiser usar o operador ternário, você pode usar a função <code>abs()</code> da <code>stdlib.h</code>.</p>
<p>Uma maneira perigosa de obter o valor absoluto de 2 números é com a <em>macro</em>:</p>
<pre><code>#define ABS(x) ((x) &lt; 0) ? (-(x)) : (x)</code></pre>
<p>Use este tipo de <em>macro</em> sempre com muito cuidado.</p>
<p>Além dessas operações, o valores inteiros são usados para trabalhar representações binárias. Assim, temos ainda as operações:</p>
<table>
<thead>
<tr class="header">
<th>Operação</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>i &lt;&lt; n</td>
<td>Deslocamento para a esquerda, os bits do i são deslocados de n bits para a esquerda</td>
</tr>
<tr class="even">
<td>i &gt;&gt; n</td>
<td>Deslocamento para a direita, os bits do i são deslocados de n bits para a direita</td>
</tr>
<tr class="odd">
<td>i &amp; j</td>
<td>Cada bit de i faz uma operação de E com seu bit correspondente de j</td>
</tr>
<tr class="even">
<td>i | j</td>
<td>Cada bit de i faz uma operação de OU com seu bit correspondente de j</td>
</tr>
<tr class="odd">
<td>i ^ j</td>
<td>Cada bit de i faz uma operação de XOU com seu bit correspondente de j</td>
</tr>
<tr class="even">
<td>~i</td>
<td>Inverte cada bit de i</td>
</tr>
</tbody>
</table>
<h4 id="exemplo-de-uso-das-operações-sobre-bits">Exemplo de uso das operações sobre bits</h4>
<p>O exemplo abaixo lê um endereço IPv4 na sua notação a.b.c.d, uma máscara e retorna o endereço de rede.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb18-1"><a href="#cb18-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="dt">int</span> main() {</span>
<span id="cb18-3"><a href="#cb18-3"></a>  printf(<span class="st">&quot;Por favor, fornessa o endereco IP na forma a.b.c.d: &quot;</span>);</span>
<span id="cb18-4"><a href="#cb18-4"></a>  <span class="dt">int</span> a, b, c, d, ip, msk, rde;</span>
<span id="cb18-5"><a href="#cb18-5"></a>  scanf(<span class="st">&quot;%d.%d.%d.%d&quot;</span>, &amp;a, &amp;b, &amp;c, &amp;d);</span>
<span id="cb18-6"><a href="#cb18-6"></a>  ip = d + <span class="dv">256</span> * (c + <span class="dv">256</span> * (b + <span class="dv">256</span> * a));</span>
<span id="cb18-7"><a href="#cb18-7"></a>  printf(<span class="st">&quot;Por favor, fornessa a mascara tambem na forma a.b.c.d: &quot;</span>);</span>
<span id="cb18-8"><a href="#cb18-8"></a>  scanf(<span class="st">&quot;%d.%d.%d.%d&quot;</span>, &amp;a, &amp;b, &amp;c, &amp;d);</span>
<span id="cb18-9"><a href="#cb18-9"></a>  msk = d + <span class="dv">256</span> * (c + <span class="dv">256</span> * (b + <span class="dv">256</span> * a));</span>
<span id="cb18-10"><a href="#cb18-10"></a>  rde = ip &amp; msk;</span>
<span id="cb18-11"><a href="#cb18-11"></a>  printf(<span class="st">&quot;O endereço de rede em hexa eh %X</span><span class="sc">\n</span><span class="st">&quot;</span>, rde);</span>
<span id="cb18-12"><a href="#cb18-12"></a>  d = rde % <span class="dv">256</span>;</span>
<span id="cb18-13"><a href="#cb18-13"></a>  rde /= <span class="dv">256</span>;</span>
<span id="cb18-14"><a href="#cb18-14"></a>  c = rde % <span class="dv">256</span>;</span>
<span id="cb18-15"><a href="#cb18-15"></a>  rde /= <span class="dv">256</span>;</span>
<span id="cb18-16"><a href="#cb18-16"></a>  b = rde % <span class="dv">256</span>;</span>
<span id="cb18-17"><a href="#cb18-17"></a>  a = rde / <span class="dv">256</span>;</span>
<span id="cb18-18"><a href="#cb18-18"></a>  printf(<span class="st">&quot;Ou %d.%d.%d.%d</span><span class="sc">\n</span><span class="st">&quot;</span>, a, b, c, d);</span>
<span id="cb18-19"><a href="#cb18-19"></a>  <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb18-20"><a href="#cb18-20"></a>}</span></code></pre></div>
<p>[1]. Kernighan, B.W. &amp; Ritche, D.M., The C Programming Language, Prentice-Hall.</p>
</body>
</html>
